<section id="main-content">
    <div class="container" style="min-height:600px; width:100% !important;padding:0px">
      <div class="row" style="margin-top:101px;">
        <div class="col-md-12">
          <section class="panel">
              <header class="panel-heading" style="overflow:auto">
                  <div class="col-md-6">>Loan Maturity Profile</div>
                   <div class="col-md-5">
                    <select class="form-control" name="TYPE" [(ngModel)]="filter.TYPE">
                      <option [value]="0" selected="">All</option>
                      <option *ngFor="let type of types" [ngValue]="type.value">
                         {{type.display}}
                       </option>
                        
                    </select>
                   </div>
                   <div class="col-md-1"><a (click)="getLoanMaturity()" href="javascript:;" class="btn btn-xs btn-white btn-cp">Submit</a></div>
                </header>
            <header class="panel-heading" style="overflow:auto" *ngIf="data?.expenses.b.COUNTAB<20">
                Count : {{data?.expenses.b.COUNTAB}}
                <span class="tools pull-right">
                  <a class="btn btn-white btn-xs printResult">
                    <i class="fa fa-file-excel-o"></i>
                  </a>
                </span>
              </header>
              <header class="panel-heading" style="overflow:auto" *ngIf="data?.expenses.b.COUNTAB>20">
                Count : {{data?.expenses.b.COUNTAB}} ({{data?.from}}-{{data?.to}})
                  <span class="tools pull-right">
                    <a class="btn btn-white btn-xs printResult" data-type="1">
                      <i class="fa fa-file-excel-o"></i>
                    </a>
                    <a (click)="filter.NEXT='0';getInvestmentPortfolio()" class="btn btn-white btn-xs" *ngIf="data?.index!='1'">Prev</a>
                    <a (click)="filter.NEXT='1';getInvestmentPortfolio()" class="btn btn-white btn-xs" *ngIf="data?.next<data?.expenses.b.COUNTAB">Next</a>
                   </span>
                </header>
                <div style="padding:15px">
                    <div class="row">
                  
                                <div class="col-md-4">
                                <div class="form-group fi fi1 "><label class="control-label">Loan Officer :</label>
                                  <select class="form-control" name="TPINV_OFF" [(ngModel)]="filter.TPINV_OFF">
                                      <option value="0">select</option>
                                      <option *ngFor="let off of acc_off" [ngValue]="off">
                                        {{off?.LEGAL_NAME}}
                                      </option>
                                    </select>
                                </div>
                                        
                                     
                                       
                                </div>
                                <div class="col-md-4">
                                <div class="form-group fi fi2"><label class="control-label">Loan Product :</label>
                                        <select class="form-control" [(ngModel)]="filter.TPINV_PRO" name="TPINV_PRO">
                                             <option value="0">select</option>
                                             <option *ngFor="let product of loan_products" [ngValue]="product">
                                                {{product?.LOAN_DESCRIPTION}}
                                              </option>
                                        </select>
                                        </div>
                                </div>
                    
                      <div class="col-md-4">
                          <div class="form-group fi fi4 "><label class="control-label">Loan Type :</label>
                                        <select class="form-control" [(ngModel)]="filter.TPINV_SUBCAT" name="TPINV_SUBCAT">
                                        <option [value]="0">select</option>
                                              <option [value]="1">Retail</option>
                                            <option [value]="2">Commercial</option>   
                                             <option [value]="9">CP</option> 
                                             <option [value]="10">Lease</option>   
                                             <option [value]="11">Staff</option> 
                                        </select>
                                        </div> 
                        </div>
                       
                    </div>
                      <div class="row">
                   
                        <div class="col-md-4">
                          <div class="form-group fi fi5 "><label class="control-label">Booking Type :</label>
                                        <select class="form-control" [(ngModel)]="filter.TP_IS_TOP_UP" name="TP_IS_TOP_UP">
                                        <option [value]="0">select</option>
                                              <option [value]="1">New</option>
                                              <option [value]="2">Rollover</option> 
                                              <option [value]="3">Both</option>    
                                        </select>
                                        </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="form-group fi fi7 ">
                              <label class="control-label">Customer:</label>
                               
                              <ng-select [allowClear]="true" [items]="people_customers" (data)="refreshValue($event)" (selected)="selected($event)"
                                (removed)="removed($event)" (typed)="typed($event)">
                              </ng-select>
                            </div>
                          </div>
                        <div class="col-md-4">
                          <div class="form-group fi fi7 "><label class="control-label">Earning Status:</label>
                                        <select class="form-control" [(ngModel)]="filter.TP_STOP_ACCRUAL" name="TP_STOP_ACCRUAL">
                                          <option [value]="0">select</option>
                                            <option [value]="1">ERA</option>
                                            <option [value]="2">NERA</option>  
                                              
                                        </select>
                                        </div>
                        </div>
                    </div>
                    </div>
                    
                 <div style="font-size:11px">
                  <table class="table table-striped">
                                 <thead>
                                 <tr> 
                                     <th>Obligor</th>
                                     <th>Principal</th>
                                     <th>Tenor</th>
                                     <th>Period</th>
                                     <th>Rate</th>
                                     <th>Value Date</th>
                                     <th>Maturity</th>
                                     <th>TTM</th> 
                                     <th>Booking</th>
                                     <th>Type</th> 
                                     <th>Concentration</th>
                                     <th>Earning Status</th> 
   
                                 </tr>
                                 </thead>
                                 <tbody>
                                  
                                 <tr *ngFor="let acc of data?.expenses.a"> 
                                       <td>{{acc.LEGAL_NAME}}</td>
                                       <td>{{acc.REQUEST_PRINCIPAL|number:'.2-2'}}</td>
                                       
                                       <td>{{acc.REQUEST_TENOR}}</td>
                                        <td>{{loan_durations[acc.REQUEST_PERIOD_ID].LOAN_DURATION}}</td>
                                       <td>{{acc.REQUEST_RATE|number:'.2-2'}}%</td>
                                       <td>{{acc.DISBURSEMENT_DATE}}</td>
                                       <td>{{acc.MATURITY}}</td>
                                       <td>{{acc.TTM<0?0:acc.TTM}}</td>
                                       <td>{{acc.IS_TOP_UP==0?"New":"Rollover"}}</td>
                                       <td>{{acc.LOAN_PURPOSE}}</td> 
                                       <td>{{acc.REQUEST_PRINCIPAL/data?.expenses.d.TOTAL_PRINCIPAL|number:'.2-2'}}</td>
                                       <td>{{acc.STOP_ACCRUAL=="1"?"NERA":"ERA"}}</td>
                                       <td></td>
                                 </tr> 
                                 </tbody>
                             </table>
                             </div> 
          </section>
        </div>
      </div>
    </div>
  </section>