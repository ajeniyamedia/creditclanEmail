<section class="panel panel-default">
  <div class="panel-heading">
    Interest Settings
  </div>
  <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">

  </div>
  <div class="panel-body">
    <div class="panel-body toc-panel">
      <form #g="ngForm" novalidate>
        <div class="form-group row">
          <label class="control-label col-md-6">Interest Rate type</label>
          <div class="col-md-6">
            <input type="hidden" name="LOAN_INTEREST_TYPE" [(ngModel)]="company_interest.LOAN_INTEREST_TYPE">
            <select name="INTEREST_RATE_TYPE_ID" [(ngModel)]="company_interest.INTEREST_RATE_TYPE_ID" class="form-control">
              <option [value]="0"></option>
              <option [value]="1" selected="selected">Flat</option>
              <option [value]="2">Simple</option>
            </select>
          </div>
        </div>
        <div class="form-group row" id="loan_interest_container">
          <label class="control-label col-md-6">Interest</label>
          <div class="col-md-6">

            <div class="input-group ">
              <input type="text" class="form-control" [(ngModel)]="company_interest.REQUEST_RATE" name="REQUEST_RATE">
              <div class="input-group-btn">
                <button type="button" class="btn btn-white dropdown-toggle  lockForCom" data-toggle="dropdown">
                  <span class="sel_cur">{{interest_duration}}</span>
                  <span class="caret"></span>
                </button>
                <ul class="dropdown-menu pull-right">
                  <li *ngFor="let d of loan_durations;let i=index;">
                    <a (click)="changeDuration(i,2)">{{d.INTEREST_DURATION}}</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="for-closed-end animated">

          <div class="form-group row">


            <label class="col-md-6">
              Installment Frequency
            </label>
            <div class="col-md-6">

              <select name="INSTALLMENT_FREQUENCY" (change)="changeFrequency($event)" [(ngModel)]="company_interest.INSTALLMENT_FREQUENCY"
                class="form-control">
                <option [value]="0"></option>
                <option [value]="1">One Off</option>
                <option [value]="2">Monthly</option>
              </select>
            </div>
          </div>
          <div class="form-group row">


            <label class="col-md-6">
              Repayment type
            </label>
            <div class="col-md-6">

              <select name="REPAYMENT_TYPE_ID" [(ngModel)]="company_interest.REPAYMENT_TYPE_ID" class="form-control">
                <option [value]="0"></option>
                <option [value]="1">EPI</option>
                <option [value]="2">Interest Alone</option>
                <option [value]="3">Bullet</option>
                <option [value]="6">Reducing Balance</option>
              </select>
            </div>
          </div>




          <div class="form-group row ">

            <div class="col-md-6 rpVV animated ">
              <label for="RMI" class="control-label">Interest Applied When</label>

            </div>
            <div class="col-md-6">
              <select class="form-control" [(ngModel)]="company_interest.RP_SET_TYPE" name="RP_SET_TYPE">
                <option [value]="0">select</option>
                <option [value]="1">Immediate</option>
                <option [value]="2">Prorated</option>

              </select>
            </div>
          </div>

          <div class="form-group row " *ngIf="company_interest?.INSTALLMENT_FREQUENCY==='2'">

            <div class="col-md-6 rpVV animated ">
              <label for="RMI" class="control-label">Repayment Period</label>

            </div>
            <div class="col-md-6">
              <select class="form-control" name="MONTHLY_PERIOD" [(ngModel)]="company_interest.MONTHLY_PERIOD">
                <option [value]="1">Monthly</option>
                <option [value]="2">+28 days</option>
                <option [value]="3">+29 days</option>
                <option [value]="4">+30 days</option>
                <option [value]="5">+31 days</option>
              </select>
            </div>
          </div>
          <div class="form-group row ">

            <div class="col-md-6 rpVV animated ">
              <label for="RMI" class="control-label">Disbursement Date</label>

            </div>
            <div class="col-md-6">
              <input type="text" class="form-control" name="COMPANY_DISBURSEMENT" [(ngModel)]="company_interest.COMPANY_DISBURSEMENT">
            </div>
          </div>

        </div>
        <div class="form-group row ">

          <div class="col-md-6 rpVV animated ">
            <label for="RMI" class="control-label">Repayment Day</label>

          </div>
          <div class="col-md-6">
            <select class="form-control" name="REPAYMENT_DAY" [(ngModel)]="company_interest.REPAYMENT_DAY">

              <option *ngFor="let number of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]"
                [value]="number">{{number}}</option>
            </select>
          </div>
        </div>
        <button type="submit" (click)="saveCompanyInterest(g.value, g.valid)" [disabled]="loading" class="btn btn-white pull-right">
          <span *ngIf="!loading">Submit</span>
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </form>
    </div>
  </div>
</section>
<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="headingContract">
    <h4 class="panel-title">
      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseContract" aria-expanded="true"
        aria-controls="collapseContract">
        Notification Settings
      </a>
    </h4>
  </div>
  <div id="collapseContract" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingContract">
    <div class="panel-body">
      <div class="panel-body">
        <form #notification="ngForm" novalidate>



          <div class="form-group row">
            <div class="col-md-12">
              <ul>
                <li class="text-left">
                  <span> Send notification when loan is approved</span>
                  <div class="pull-right">
                    <input type="checkbox" name="NOTIFY" name="NOTIFY" [(ngModel)]="notify.NOTIFY">
                    <input type="hidden" name="PEOPLE_CUSTOMERS_ID" name="PEOPLE_CUSTOMERS_ID" [(ngModel)]="notify.PEOPLE_CUSTOMERS_ID">
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="form-group row" *ngIf="notify.NOTIFY">
            <div class="col-md-6">
              <label class="control-label">Email</label>
            </div>
            <div class="col-md-6">
              <input type="text" class="form-control" name="NOTIFY_EMAIL" [(ngModel)]="notify.NOTIFY_EMAIL">
            </div>
          </div>

          <button type="submit" (click)="saveRequestNotify(notification.value, notification.valid)" [disabled]="loading"
            class="btn btn-white pull-right">
            <span *ngIf="!loading">Submit</span>
            <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="headingApproval">
    <h4 class="panel-title">
      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseApproval" aria-expanded="true"
        aria-controls="collapseApproval">
        Approval Settings
      </a>
    </h4>
  </div>
  <div id="collapseApproval" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingApproval">
    <div class="panel-body">
      <div class="panel-body">
        <form #approval="ngForm" novalidate>



          <div class="form-group row">
            <div class="col-md-12">
              <ul>
                <li class="text-left">
                  <span> Enable company approval</span>
                  <div class="pull-right">
                    <input type="checkbox" name="ENABLE_COMPANY_APPROVAL" [(ngModel)]="company_approval.ENABLE_COMPANY_APPROVAL">
                    <input type="hidden" name="PEOPLE_CUSTOMERS_ID" [(ngModel)]="company_approval.ENABLE_COMPANY_APPROVAL">
                  </div>
                </li>
              </ul>
            </div>
          </div>


          <button type="submit" (click)="saveEnableApproval(approval.value, approval.valid)" [disabled]="loading" class="btn btn-white pull-right">
            <span *ngIf="!loading">Submit</span>
            <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="panel panel-default" *ngIf="company_approval.ENABLE_COMPANY_APPROVAL">
  <div class="panel-heading" role="tab" id="headingApprovals">
    <h4 class="panel-title">
      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseApprovals" aria-expanded="true"
        aria-controls="collapseApprovals">
        Approvals
      </a>
    </h4>
  </div>
  <div id="collapseApprovals" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingApprovals">
    <div class="panel-body">
      <div class="panel-body">
        <div class="toc-panel">
          <form #newcompanyapproval="ngForm" novalidate>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="control-label">Name</label>
                  <input type="text" class="form-control" name="NAME" [(ngModel)]="approve.NAME">
                  <input type="hidden" name="PEOPLE_CUSTOMERS_ID" [(ngModel)]="approve.PEOPLE_CUSTOMERS_ID">
                </div>
              </div>

            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="control-label">Email</label>
                  <input type="text" class="form-control" name="EMAIL" [(ngModel)]="approve.EMAIL">
                </div>
              </div>

            </div>
            <button type="submit" (click)="saveNewCompanyApproval(newcompanyapproval.value, newcompanyapproval.valid)"
              [disabled]="loading" class="btn btn-white pull-right">
              <span *ngIf="!loading">Submit</span>
              <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
            </button>
          </form>
        </div>

      </div>
      <table class="table table-striped">
        <thead>
          <th>Name</th>
          <th>Email</th>
          <th></th>
        </thead>
        <tbody>
          <tr *ngFor="let approval of approvals">
            <td>{{approval?.NAME}}</td>
            <td>{{approval?.EMAIL}}</td>
            <td><button class="btn btn-white" (click)="deleteCompanyApprovals(approval)"><i class="fa fa-trash" *ngIf="!loading"></i><i
                  class="fa fa-spinner fa-spin" *ngIf="loading && deleting"></i></button></td>
          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="headingTwo">
    <h4 class="panel-title">
      <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"
        aria-expanded="false" aria-controls="collapseTwo">
        Loan Application
      </a>
    </h4>
  </div>
  <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
    <div class="panel-body" style="padding: 15px 70px">
      <form #i="ngForm" novalidate>


        <p class="t_l4" style="margin-top: 30px; margin-bottom: 0">
          <strong>Documents to be asked during loan application</strong>
        </p>
        <ul class="list list_border sm">
          <li class="text-left">
            <span>
              <p class="no-margin">
                <strong>Phone Confirmation</strong>
              </p>Skip phone confirmation
            </span>
            <div class="pull-right">

              <input type="checkbox" name="skipphoneconfirmation" [(ngModel)]="mobile.skipphoneconfirmation">
            </div>
          </li>
          <li class="text-left">
            <span>
              <p class="no-margin">
                <strong>Email Confirmation</strong>
              </p>Should the customer confirm his/her email before proceeding after signing up
            </span>
            <div class="pull-right">

              <input type="hidden" name="PEOPLE_CUSTOMERS_ID" [(ngModel)]="mobile.PEOPLE_CUSTOMERS_ID">
              <input type="checkbox" name="customerconfirmsemailafterregisteration" [(ngModel)]="mobile.customerconfirmsemailafterregisteration">
            </div>
          </li>
          <li class="text-left">
            <span> Provide BVN before proceeding after signing up</span>
            <div class="pull-right">
              <input type="checkbox" name="shouldthecustomerporvidebvnaftersigningup" [(ngModel)]="mobile.shouldthecustomerporvidebvnaftersigningup">
            </div>
          </li>
          <li class="text-left" *ngIf="mobile.shouldthecustomerporvidebvnaftersigningup">
            <span> Confirm BVN before proceeding after signing up</span>
            <div class="pull-right">
              <input type="checkbox" name="shouldthebvnbevalidatedrealtime" [(ngModel)]="mobile.shouldthebvnbevalidatedrealtime">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Allow only users with verified BVN to apply</span>
            <div class="pull-right">
              <input type="checkbox" name="checkifuserhasvalidatedbvn" [(ngModel)]="mobile.checkifuserhasvalidatedbvn">
            </div>
          </li>
          <li class="text-left">
            <span>Profile</span>
          </li>
          <li class="text-left sub_list">
            <span>Must a selfie be provided</span>
            <div class="pull-right">
              <input type="checkbox" name="mustprovideselfie" [(ngModel)]="mobile.mustprovideselfie">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Must next of kin details be provided</span>
            <div class="pull-right">
              <input type="checkbox" name="nextofkin" [(ngModel)]="mobile.nextofkin">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Must provide Education Information</span>
            <div class="pull-right">
              <input type="checkbox" name="education" [(ngModel)]="mobile.education">
            </div>
          </li>



          <li class="text-left">
            <span>Home Address</span>
          </li>
          <li class="text-left sub_list">
            <span>Should the home address be provided </span>
            <div class="pull-right">
              <input type="checkbox" name="homeaddress" [(ngModel)]="mobile.homeaddress">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Must provide proof of home address</span>
            <div class="pull-right">
              <input type="checkbox" name="proofofaddress" [(ngModel)]="mobile.proofofaddress">
            </div>
          </li>

          <li class="text-left">
            <span>Work Information</span>
          </li>
          <li class="text-left sub_list">
            <span>Must provide work information </span>
            <div class="pull-right">
              <input type="checkbox" name="workinfo" [(ngModel)]="mobile.workinfo">
            </div>
          </li>
          

          <li class="text-left sub_list">
            <span>Must provide personal expense details(E.g phone,internet) </span>
            <div class="pull-right">
              <input type="checkbox" name="personalexpense" [(ngModel)]="mobile.personalexpense">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Must provide purpose of loan </span>
            <div class="pull-right">
              <input type="checkbox" name="mustprovideloanpurpose" [(ngModel)]="mobile.mustprovideloanpurpose">
            </div>
          </li>



        </ul>
        <button type="submit" (click)="saveMobileApplication(i.value, i.valid)" [disabled]="loading" class="btn btn-white pull-right">
          <span *ngIf="!loading">Submit</span>
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </form>
    </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="headingThree">
    <h4 class="panel-title">
      <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree"
        aria-expanded="false" aria-controls="collapseThree">
        Company details to be provided
      </a>
    </h4>
  </div>
  <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
    <div class="panel-body" style="padding: 15px 70px">
      <form #d="ngForm" novalidate>
        <ul class="list list_border sm">

          <li class="text-left sub_list">
            <span>Staff Number</span>
            <div class="pull-right">
              <input type="checkbox" name="mustprovidestaffnumber" [(ngModel)]="others.mustprovidestaffnumber">
              <input type="hidden" name="PEOPLE_CUSTOMERS_ID" [(ngModel)]="others.PEOPLE_CUSTOMERS_ID">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Location</span>
            <div class="pull-right">
              <input type="checkbox" name="musttprovidelocation" [(ngModel)]="others.musttprovidelocation">
            </div>
          </li>
          <li class="text-left sub_list">
            <span>Must validate work email</span>
            <div class="pull-right">
                <input type="checkbox" name="validate_work_email" [(ngModel)]="others.validate_work_email">
            </div>
        </li>
        </ul>

        <button type="submit" (click)="saveCompanyDetails(d.value, d.valid)" [disabled]="loading" class="btn btn-white pull-right">
          <span *ngIf="!loading">Submit</span>
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </form>
    </div>
  </div>
</div>